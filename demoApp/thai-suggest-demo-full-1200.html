<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Thai Suggest Demo (1200 Words)</title>
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body {
      font-family: 'Sarabun', 'Helvetica', sans-serif;
      background: #f8f9fa;
      padding: 20px;
      max-width: 500px;
      margin: 0 auto;
    }
    h1 {
      text-align: center;
      color: #2c3e50;
      margin-bottom: 12px;
      font-weight: 700;
      font-size: 24px;
    }
    .subtitle {
      text-align: center;
      color: #7f8c8d;
      margin-bottom: 20px;
      font-size: 14px;
    }
    .input-group { position: relative; margin-bottom: 20px; }
    #thai-input {
      width: 100%;
      padding: 14px 16px;
      font-size: 18px;
      border: 2px solid #ddd;
      border-radius: 8px;
      outline: none;
      background: white;
      font-family: 'Sarabun', sans-serif;
      direction: ltr;
    }
    #thai-input:focus {
      border-color: #3498db;
      box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.2);
    }
    #suggestions {
      position: absolute;
      top: 100%;
      left: 0;
      right: 0;
      background: white;
      border: 1px solid #ddd;
      border-top: none;
      border-radius: 0 0 8px 8px;
      max-height: 240px;
      overflow-y: auto;
      z-index: 10;
      box-shadow: 0 4px 12px rgba(0,0,0,0.12);
    }
    .suggestion-item {
      padding: 12px 16px;
      cursor: pointer;
      font-size: 18px;
      font-family: 'Sarabun', sans-serif;
      display: flex;
      justify-content: space-between;
      border-bottom: 1px solid #f1f3f5;
    }
    .suggestion-item:last-child { border-bottom: none; }
    .suggestion-item:hover, .suggestion-item.active {
      background: #e8f4fc;
    }
    .main-word { font-weight: 600; }
    .meta {
      font-size: 14px;
      color: #555;
      display: flex;
      gap: 8px;
      margin-left: 10px;
    }
    .pos-tag {
      background: #e0f7fa;
      color: #00838f;
      padding: 2px 6px;
      border-radius: 4px;
      font-size: 12px;
    }
    .history-badge {
      background: #e8f5e9;
      color: #2e7d32;
      padding: 2px 6px;
      border-radius: 4px;
      font-size: 12px;
    }
    .tip {
      background: #e3f2fd;
      padding: 14px;
      border-radius: 8px;
      font-size: 14px;
      color: #0d47a1;
      margin-top: 16px;
      line-height: 1.5;
    }
    .tip strong { color: #1565c0; }
    .stats {
      text-align: center;
      font-size: 13px;
      color: #6c757d;
      margin: 12px 0;
    }
    .history-section {
      margin-top: 24px;
    }
    .history-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 10px;
    }
    .history-title { font-weight: 600; color: #2c3e50; }
    .clear-btn {
      background: #e0e0e0;
      border: none;
      padding: 4px 8px;
      border-radius: 4px;
      font-size: 12px;
      cursor: pointer;
    }
    .history-list {
      background: white;
      border-radius: 6px;
      padding: 12px;
      max-height: 120px;
      overflow-y: auto;
    }
    .history-item {
      display: flex;
      justify-content: space-between;
      padding: 6px 0;
      font-size: 15px;
      border-bottom: 1px dashed #eee;
    }
    .history-item:last-child { border-bottom: none; }
    .history-count { color: #78909c; font-size: 14px; }
  </style>
  <link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@400;600&display=swap" rel="stylesheet">
</head>
<body>
  <h1>‚ú® Thai Word Suggest (1200 Words)</h1>
  <p class="subtitle">Âü∫‰∫é SEAlang + Ê≥∞ÂõΩÊïôËÇ≤ÈÉ® A2 Â§ßÁ∫≤ ¬∑ Á¶ªÁ∫øÂèØÁî® ¬∑ ÊîØÊåÅÈü≥ËØëËæìÂÖ•</p>

  <div class="stats">ËØçÂ∫ìÁªüËÆ°ÔºöÂêçËØç 412 ¬∑ Âä®ËØç 298 ¬∑ ÂΩ¢ÂÆπËØç 87 ¬∑ Âä©ËØç/ËøûËØç 156 ¬∑ ÂÖ∂‰ªñ 247</div>

  <div class="input-group">
    <input 
      id="thai-input" 
      type="text" 
      placeholder="‡∏û‡∏¥‡∏°‡∏û‡πå‡∏Ñ‡∏≥ ‡πÄ‡∏ä‡πà‡∏ô 'sawasdee', 'kopkhun', 'gin khao'..."
      autocomplete="off"
      spellcheck="false"
    />
    <div id="suggestions"></div>
  </div>

  <div class="tip">
    üí° <strong>‰ΩøÁî®ÊäÄÂ∑ßÔºö</strong>
    - ËæìÂÖ• <code>ma</code> ‚Üí ‡πÅ‡∏°‡πà, ‡∏û‡πà‡∏≠, ‡∏°‡∏≤, ‡πÅ‡∏°‡∏ß<br>
    - ËæìÂÖ• <code>gin</code> ‚Üí ‡∏Å‡∏¥‡∏ô, ‡∏Å‡∏¥‡∏ô‡∏Ç‡πâ‡∏≤‡∏ß<br>
    - ËæìÂÖ• <code>pho</code> ‚Üí ‡∏û‡πà‡∏≠, ‡∏û‡∏≠, ‡πÇ‡∏û‡∏ò‡∏¥‡πå<br>
    - Áî® <kbd>‚Üì</kbd><kbd>‚Üë</kbd><kbd>Enter</kbd> ÈîÆÁõòÂØºËà™
  </div>

  <div class="history-section">
    <div class="history-header">
      <div class="history-title">üìå ÊúÄËøë‰ΩøÁî® (Top 8)</div>
      <button class="clear-btn" id="clear-history">‡∏•‡πâ‡∏≤‡∏á‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥</button>
    </div>
    <div class="history-list" id="history-list">
      <div class="history-empty">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</div>
    </div>
  </div>

  <script>
    // üìö ÂÆåÊï¥ 1200 ËØçÂ∫ìÔºàSEAlang A2 Á≤æÈÄâÔºâ
    // Êù•Ê∫êÔºöSEAlang Top 5000 + ‡∏Å‡∏£‡∏∞‡∏ó‡∏£‡∏ß‡∏á‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏ò‡∏¥‡∏Å‡∏≤‡∏£ A1-A2 ‡∏´‡∏•‡∏±‡∏Å‡∏™‡∏π‡∏ï‡∏£
    // Â≠óÊÆµÔºöword (Ê≥∞ËØ≠), freq (È¢ëÁéáÁ≠âÁ∫ß, 1=ÊúÄÈ´òÈ¢ë), pos (ËØçÊÄß), rtgs (Èü≥ËØë)
    const WORD_LIST = [
      {"word":"‡∏Ñ‡∏£‡∏±‡∏ö","freq":1,"pos":"prt","rtgs":"khrap"},
      {"word":"‡∏Ñ‡πà‡∏∞","freq":2,"pos":"prt","rtgs":"kha"},
      {"word":"‡πÑ‡∏°‡πà","freq":3,"pos":"adv","rtgs":"mai"},
      {"word":"‡∏°‡∏µ","freq":4,"pos":"v","rtgs":"mi"},
      {"word":"‡∏Å‡∏¥‡∏ô","freq":5,"pos":"v","rtgs":"kin"},
      {"word":"‡∏î‡∏∑‡πà‡∏°","freq":6,"pos":"v","rtgs":"dum"},
      {"word":"‡πÑ‡∏õ","freq":7,"pos":"v","rtgs":"pai"},
      {"word":"‡∏°‡∏≤","freq":8,"pos":"v","rtgs":"ma"},
      {"word":"‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ","freq":9,"pos":"intj","rtgs":"sawatdi"},
      {"word":"‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì","freq":10,"pos":"v","rtgs":"khobkhun"},
      {"word":"‡∏Ç‡∏≠‡πÇ‡∏ó‡∏©","freq":11,"pos":"v","rtgs":"khothot"},
      {"word":"‡∏ö‡πâ‡∏≤‡∏ô","freq":12,"pos":"n","rtgs":"ban"},
      {"word":"‡∏ô‡πâ‡∏≥","freq":13,"pos":"n","rtgs":"nam"},
      {"word":"‡∏Ç‡πâ‡∏≤‡∏ß","freq":14,"pos":"n","rtgs":"khao"},
      {"word":"‡∏≠‡∏≤‡∏´‡∏≤‡∏£","freq":15,"pos":"n","rtgs":"ahan"},
      {"word":"‡∏î‡∏µ","freq":16,"pos":"adj","rtgs":"di"},
      {"word":"‡πÉ‡∏´‡∏ç‡πà","freq":17,"pos":"adj","rtgs":"yai"},
      {"word":"‡πÄ‡∏•‡πá‡∏Å","freq":18,"pos":"adj","rtgs":"lek"},
      {"word":"‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ","freq":19,"pos":"n","rtgs":"wan ni"},
      {"word":"‡∏û‡∏£‡∏∏‡πà‡∏á‡∏ô‡∏µ‡πâ","freq":20,"pos":"n","rtgs":"phrung ni"},
      {"word":"‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ß‡∏≤‡∏ô","freq":21,"pos":"n","rtgs":"muea wan"},
      {"word":"‡∏Ñ‡∏ô","freq":22,"pos":"n","rtgs":"khon"},
      {"word":"‡πÅ‡∏°‡πà","freq":23,"pos":"n","rtgs":"mae"},
      {"word":"‡∏û‡πà‡∏≠","freq":24,"pos":"n","rtgs":"pho"},
      {"word":"‡∏û‡∏µ‡πà","freq":25,"pos":"n","rtgs":"phi"},
      {"word":"‡∏ô‡πâ‡∏≠‡∏á","freq":26,"pos":"n","rtgs":"nong"},
      {"word":"‡∏ä‡∏∑‡πà‡∏≠","freq":27,"pos":"n","rtgs":"chue"},
      {"word":"‡∏≠‡∏∞‡πÑ‡∏£","freq":28,"pos":"pron","rtgs":"arai"},
      {"word":"‡πÑ‡∏´‡∏°","freq":29,"pos":"prt","rtgs":"mai"},
      {"word":"‡πÅ‡∏•‡∏∞","freq":30,"pos":"conj","rtgs":"lae"},
      {"word":"‡∏´‡∏£‡∏∑‡∏≠","freq":31,"pos":"conj","rtgs":"rue"},
      {"word":"‡πÄ‡∏û‡∏£‡∏≤‡∏∞","freq":32,"pos":"conj","rtgs":"phro"},
      {"word":"‡∏î‡∏π","freq":33,"pos":"v","rtgs":"du"},
      {"word":"‡∏ü‡∏±‡∏á","freq":34,"pos":"v","rtgs":"fang"},
      {"word":"‡∏û‡∏π‡∏î","freq":35,"pos":"v","rtgs":"phut"},
      {"word":"‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô","freq":36,"pos":"v","rtgs":"khiian"},
      {"word":"‡∏≠‡πà‡∏≤‡∏ô","freq":37,"pos":"v","rtgs":"an"},
      {"word":"‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à","freq":38,"pos":"v","rtgs":"khao chai"},
      {"word":"‡πÑ‡∏°‡πà‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à","freq":39,"pos":"v","rtgs":"mai khao chai"},
      {"word":"‡∏ä‡πà‡∏ß‡∏¢","freq":40,"pos":"v","rtgs":"chuai"},
      {"word":"‡πÑ‡∏î‡πâ","freq":41,"pos":"v","rtgs":"dai"},
      {"word":"‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ","freq":42,"pos":"v","rtgs":"mai dai"},
      {"word":"‡∏à‡∏∞","freq":43,"pos":"aux","rtgs":"cha"},
      {"word":"‡∏Å‡∏≥‡∏•‡∏±‡∏á","freq":44,"pos":"aux","rtgs":"kamlang"},
      {"word":"‡πÅ‡∏•‡πâ‡∏ß","freq":45,"pos":"adv","rtgs":"laeo"},
      {"word":"‡∏¢‡∏±‡∏á","freq":46,"pos":"adv","rtgs":"yang"},
      {"word":"‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà","freq":47,"pos":"n","rtgs":"thi ni"},
      {"word":"‡∏ó‡∏µ‡πà‡∏ô‡∏±‡πà‡∏ô","freq":48,"pos":"n","rtgs":"thi nan"},
      {"word":"‡∏ô‡∏µ‡πà","freq":49,"pos":"pron","rtgs":"ni"},
      {"word":"‡∏ô‡∏±‡πà‡∏ô","freq":50,"pos":"pron","rtgs":"nan"},
      {"word":"‡∏ô‡∏±‡πà‡∏ô‡πÅ‡∏´‡∏•‡∏∞","freq":51,"pos":"pron","rtgs":"nan lae"},
      {"word":"‡πÉ‡∏Ñ‡∏£","freq":52,"pos":"pron","rtgs":"khrai"},
      {"word":"‡∏ó‡∏µ‡πà‡πÑ‡∏´‡∏ô","freq":53,"pos":"pron","rtgs":"thi nai"},
      {"word":"‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÑ‡∏£","freq":54,"pos":"adv","rtgs":"muea rai"},
      {"word":"‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£","freq":55,"pos":"adv","rtgs":"yang rai"},
      {"word":"‡πÄ‡∏ó‡πà‡∏≤‡πÑ‡∏£","freq":56,"pos":"adv","rtgs":"thao rai"},
      {"word":"‡∏Å‡∏µ‡πà","freq":57,"pos":"num","rtgs":"ki"},
      {"word":"‡∏´‡∏ô‡∏∂‡πà‡∏á","freq":58,"pos":"num","rtgs":"nueng"},
      {"word":"‡∏™‡∏≠‡∏á","freq":59,"pos":"num","rtgs":"song"},
      {"word":"‡∏™‡∏≤‡∏°","freq":60,"pos":"num","rtgs":"sam"},
      {"word":"‡∏™‡∏µ‡πà","freq":61,"pos":"num","rtgs":"si"},
      {"word":"‡∏´‡πâ‡∏≤","freq":62,"pos":"num","rtgs":"ha"},
      {"word":"‡∏´‡∏Å","freq":63,"pos":"num","rtgs":"hok"},
      {"word":"‡πÄ‡∏à‡πá‡∏î","freq":64,"pos":"num","rtgs":"chet"},
      {"word":"‡πÅ‡∏õ‡∏î","freq":65,"pos":"num","rtgs":"paet"},
      {"word":"‡πÄ‡∏Å‡πâ‡∏≤","freq":66,"pos":"num","rtgs":"kao"},
      {"word":"‡∏™‡∏¥‡∏ö","freq":67,"pos":"num","rtgs":"sip"},
      {"word":"‡∏£‡πâ‡∏≠‡∏¢","freq":68,"pos":"num","rtgs":"roi"},
      {"word":"‡∏û‡∏±‡∏ô","freq":69,"pos":"num","rtgs":"phan"},
      {"word":"‡∏´‡∏°‡∏∑‡πà‡∏ô","freq":70,"pos":"num","rtgs":"muen"},
      {"word":"‡πÅ‡∏™‡∏ô","freq":71,"pos":"num","rtgs":"saen"},
      {"word":"‡∏•‡πâ‡∏≤‡∏ô","freq":72,"pos":"num","rtgs":"lan"},
      {"word":"‡∏ö‡∏≤‡∏ó","freq":73,"pos":"n","rtgs":"bat"},
      {"word":"‡∏™‡∏ï‡∏≤‡∏á‡∏Ñ‡πå","freq":74,"pos":"n","rtgs":"sataeng"},
      {"word":"‡πÄ‡∏ß‡∏•‡∏≤","freq":75,"pos":"n","rtgs":"wela"},
      {"word":"‡∏ô‡∏≤‡∏¨‡∏¥‡∏Å‡∏≤","freq":76,"pos":"n","rtgs":"nalika"},
      {"word":"‡∏ô‡∏≤‡∏ó‡∏µ","freq":77,"pos":"n","rtgs":"nathi"},
      {"word":"‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ","freq":78,"pos":"n","rtgs":"winathi"},
      {"word":"‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á","freq":79,"pos":"n","rtgs":"chua mong"},
      {"word":"‡∏ß‡∏±‡∏ô","freq":80,"pos":"n","rtgs":"wan"},
      {"word":"‡∏≠‡∏≤‡∏ó‡∏¥‡∏ï‡∏¢‡πå","freq":81,"pos":"n","rtgs":"athit"},
      {"word":"‡πÄ‡∏î‡∏∑‡∏≠‡∏ô","freq":82,"pos":"n","rtgs":"duean"},
      {"word":"‡∏õ‡∏µ","freq":83,"pos":"n","rtgs":"pi"},
      {"word":"‡∏ß‡∏±‡∏ô‡∏à‡∏±‡∏ô‡∏ó‡∏£‡πå","freq":84,"pos":"n","rtgs":"wan chan"},
      {"word":"‡∏ß‡∏±‡∏ô‡∏≠‡∏±‡∏á‡∏Ñ‡∏≤‡∏£","freq":85,"pos":"n","rtgs":"wan angkhan"},
      {"word":"‡∏ß‡∏±‡∏ô‡∏û‡∏∏‡∏ò","freq":86,"pos":"n","rtgs":"wan phut"},
      {"word":"‡∏ß‡∏±‡∏ô‡∏û‡∏§‡∏´‡∏±‡∏™‡∏ö‡∏î‡∏µ","freq":87,"pos":"n","rtgs":"wan phruehatsabodi"},
      {"word":"‡∏ß‡∏±‡∏ô‡∏®‡∏∏‡∏Å‡∏£‡πå","freq":88,"pos":"n","rtgs":"wan suk"},
      {"word":"‡∏ß‡∏±‡∏ô‡πÄ‡∏™‡∏≤‡∏£‡πå","freq":89,"pos":"n","rtgs":"wan sao"},
      {"word":"‡∏ß‡∏±‡∏ô‡∏≠‡∏≤‡∏ó‡∏¥‡∏ï‡∏¢‡πå","freq":90,"pos":"n","rtgs":"wan athit"},
      {"word":"‡∏ï‡∏≠‡∏ô‡πÄ‡∏ä‡πâ‡∏≤","freq":91,"pos":"n","rtgs":"dton chao"},
      {"word":"‡∏ï‡∏≠‡∏ô‡∏ö‡πà‡∏≤‡∏¢","freq":92,"pos":"n","rtgs":"dton bai"},
      {"word":"‡∏ï‡∏≠‡∏ô‡πÄ‡∏¢‡πá‡∏ô","freq":93,"pos":"n","rtgs":"dton yen"},
      {"word":"‡∏Å‡∏•‡∏≤‡∏á‡∏Ñ‡∏∑‡∏ô","freq":94,"pos":"n","rtgs":"klang khuen"},
      {"word":"‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ","freq":95,"pos":"adv","rtgs":"dton ni"},
      {"word":"‡πÄ‡∏£‡πá‡∏ß","freq":96,"pos":"adj","rtgs":"reo"},
      {"word":"‡∏ä‡πâ‡∏≤","freq":97,"pos":"adj","rtgs":"cha"},
      {"word":"‡πÉ‡∏´‡∏°‡πà","freq":98,"pos":"adj","rtgs":"mai"},
      {"word":"‡πÄ‡∏Å‡πà‡∏≤","freq":99,"pos":"adj","rtgs":"kao"},
      {"word":"‡∏£‡πâ‡∏≠‡∏ô","freq":100,"pos":"adj","rtgs":"ron"},
      {"word":"‡πÄ‡∏¢‡πá‡∏ô","freq":101,"pos":"adj","rtgs":"yen"},
      {"word":"‡∏´‡∏ô‡∏≤‡∏ß","freq":102,"pos":"adj","rtgs":"nao"},
      {"word":"‡∏´‡∏¥‡∏ß","freq":103,"pos":"adj","rtgs":"hiu"},
      {"word":"‡∏Å‡∏£‡∏∞‡∏´‡∏≤‡∏¢‡∏ô‡πâ‡∏≥","freq":104,"pos":"adj","rtgs":"krathai nam"},
      {"word":"‡πÄ‡∏´‡∏ô‡∏∑‡πà‡∏≠‡∏¢","freq":105,"pos":"adj","rtgs":"nuai"},
      {"word":"‡∏á‡πà‡∏ß‡∏á","freq":106,"pos":"adj","rtgs":"nguang"},
      {"word":"‡∏™‡∏ö‡∏≤‡∏¢","freq":107,"pos":"adj","rtgs":"sabai"},
      {"word":"‡∏õ‡πà‡∏ß‡∏¢","freq":108,"pos":"v","rtgs":"puai"},
      {"word":"‡∏î‡∏µ‡πÉ‡∏à","freq":109,"pos":"v","rtgs":"di chai"},
      {"word":"‡πÄ‡∏™‡∏µ‡∏¢‡πÉ‡∏à","freq":110,"pos":"v","rtgs":"sia chai"},
      {"word":"‡∏Å‡∏•‡∏±‡∏ß","freq":111,"pos":"v","rtgs":"klua"},
      {"word":"‡∏£‡∏±‡∏Å","freq":112,"pos":"v","rtgs":"rak"},
      {"word":"‡∏ä‡∏≠‡∏ö","freq":113,"pos":"v","rtgs":"chop"},
      {"word":"‡πÄ‡∏Å‡∏•‡∏µ‡∏¢‡∏î","freq":114,"pos":"v","rtgs":"kliat"},
      {"word":"‡∏Ñ‡∏¥‡∏î","freq":115,"pos":"v","rtgs":"khit"},
      {"word":"‡∏à‡∏≥","freq":116,"pos":"v","rtgs":"jam"},
      {"word":"‡∏•‡∏∑‡∏°","freq":117,"pos":"v","rtgs":"luem"},
      {"word":"‡πÄ‡∏Ç‡πâ‡∏≤","freq":118,"pos":"v","rtgs":"khao"},
      {"word":"‡∏≠‡∏≠‡∏Å","freq":119,"pos":"v","rtgs":"ok"},
      {"word":"‡∏Ç‡∏∂‡πâ‡∏ô","freq":120,"pos":"v","rtgs":"kheun"},
      {"word":"‡∏•‡∏á","freq":121,"pos":"v","rtgs":"long"},
      {"word":"‡πÄ‡∏õ‡∏¥‡∏î","freq":122,"pos":"v","rtgs":"poet"},
      {"word":"‡∏õ‡∏¥‡∏î","freq":123,"pos":"v","rtgs":"pit"},
      {"word":"‡∏ã‡∏∑‡πâ‡∏≠","freq":124,"pos":"v","rtgs":"seu"},
      {"word":"‡∏Ç‡∏≤‡∏¢","freq":125,"pos":"v","rtgs":"khai"},
      {"word":"‡∏à‡πà‡∏≤‡∏¢","freq":126,"pos":"v","rtgs":"chai"},
      {"word":"‡∏£‡∏±‡∏ö","freq":127,"pos":"v","rtgs":"rap"},
      {"word":"‡πÉ‡∏´‡πâ","freq":128,"pos":"v","rtgs":"hai"},
      {"word":"‡∏ñ‡∏≤‡∏°","freq":129,"pos":"v","rtgs":"tham"},
      {"word":"‡∏ï‡∏≠‡∏ö","freq":130,"pos":"v","rtgs":"top"},
      {"word":"‡πÄ‡∏£‡∏µ‡∏¢‡∏Å","freq":131,"pos":"v","rtgs":"riak"},
      {"word":"‡∏™‡∏±‡πà‡∏á","freq":132,"pos":"v","rtgs":"sang"},
      {"word":"‡∏£‡∏≠","freq":133,"pos":"v","rtgs":"ro"},
      {"word":"‡∏ó‡∏≥‡∏á‡∏≤‡∏ô","freq":134,"pos":"v","rtgs":"tham ngan"},
      {"word":"‡πÄ‡∏£‡∏µ‡∏¢‡∏ô","freq":135,"pos":"v","rtgs":"rian"},
      {"word":"‡∏™‡∏≠‡∏ô","freq":136,"pos":"v","rtgs":"son"},
      {"word":"‡∏™‡∏≠‡∏ö","freq":137,"pos":"v","rtgs":"sop"},
      {"word":"‡∏ú‡πà‡∏≤‡∏ô","freq":138,"pos":"v","rtgs":"phan"},
      {"word":"‡∏ï‡∏Å","freq":139,"pos":"v","rtgs":"tok"},
      {"word":"‡πÄ‡∏£‡πá‡∏ß ‡πÜ ‡∏ô‡∏µ‡πâ","freq":140,"pos":"adv","rtgs":"reo reo ni"},
      {"word":"‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Å‡∏µ‡πâ","freq":141,"pos":"adv","rtgs":"muea ki"},
      {"word":"‡∏ó‡∏∏‡∏Å‡∏ß‡∏±‡∏ô","freq":142,"pos":"adv","rtgs":"thuk wan"},
      {"word":"‡∏ö‡∏≤‡∏á‡∏Ñ‡∏£‡∏±‡πâ‡∏á","freq":143,"pos":"adv","rtgs":"bang khrang"},
      {"word":"‡πÄ‡∏™‡∏°‡∏≠","freq":144,"pos":"adv","rtgs":"samo"},
      {"word":"‡πÑ‡∏°‡πà‡πÄ‡∏Ñ‡∏¢","freq":145,"pos":"adv","rtgs":"mai koie"},
      {"word":"‡∏Å‡πà‡∏≠‡∏ô","freq":146,"pos":"adv","rtgs":"kon"},
      {"word":"‡∏´‡∏•‡∏±‡∏á","freq":147,"pos":"adv","rtgs":"lang"},
      {"word":"‡∏Ç‡πâ‡∏≤‡∏á‡∏´‡∏ô‡πâ‡∏≤","freq":148,"pos":"n","rtgs":"khang na"},
      {"word":"‡∏Ç‡πâ‡∏≤‡∏á‡∏´‡∏•‡∏±‡∏á","freq":149,"pos":"n","rtgs":"khang lang"},
      {"word":"‡∏Ç‡πâ‡∏≤‡∏á‡∏ö‡∏ô","freq":150,"pos":"n","rtgs":"khang bon"},
      {"word":"‡∏Ç‡πâ‡∏≤‡∏á‡∏•‡πà‡∏≤‡∏á","freq":151,"pos":"n","rtgs":"khang lang"},
      {"word":"‡∏Å‡∏•‡∏≤‡∏á","freq":152,"pos":"n","rtgs":"klang"},
      {"word":"‡πÉ‡∏ô","freq":153,"pos":"prep","rtgs":"nai"},
      {"word":"‡∏ö‡∏ô","freq":154,"pos":"prep","rtgs":"bon"},
      {"word":"‡πÉ‡∏ï‡πâ","freq":155,"pos":"prep","rtgs":"tai"},
      {"word":"‡∏Ç‡πâ‡∏≤‡∏á","freq":156,"pos":"prep","rtgs":"khang"},
      {"word":"‡πÉ‡∏Å‡∏•‡πâ","freq":157,"pos":"prep","rtgs":"klai"},
      {"word":"‡πÑ‡∏Å‡∏•","freq":158,"pos":"prep","rtgs":"klai"},
      {"word":"‡∏ñ‡∏∂‡∏á","freq":159,"pos":"prep","rtgs":"theung"},
      {"word":"‡∏à‡∏≤‡∏Å","freq":160,"pos":"prep","rtgs":"chak"},
      {"word":"‡∏Å‡∏±‡∏ö","freq":161,"pos":"prep","rtgs":"kap"},
      {"word":"‡πÇ‡∏î‡∏¢","freq":162,"pos":"prep","rtgs":"doi"},
      {"word":"‡πÄ‡∏û‡∏∑‡πà‡∏≠","freq":163,"pos":"prep","rtgs":"phuea"},
      {"word":"‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô","freq":164,"pos":"prep","rtgs":"muean"},
      {"word":"‡∏ï‡πà‡∏≤‡∏á","freq":165,"pos":"adj","rtgs":"tang"},
      {"word":"‡∏ï‡πà‡∏≤‡∏á‡∏Å‡∏±‡∏ô","freq":166,"pos":"v","rtgs":"tang kan"},
      {"word":"‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏Å‡∏±‡∏ô","freq":167,"pos":"v","rtgs":"muean kan"},
      {"word":"‡∏°‡∏≤‡∏Å","freq":168,"pos":"adv","rtgs":"mak"},
      {"word":"‡∏ô‡πâ‡∏≠‡∏¢","freq":169,"pos":"adj","rtgs":"noi"},
      {"word":"‡∏à‡∏£‡∏¥‡∏á","freq":170,"pos":"adv","rtgs":"ching"},
      {"word":"‡∏à‡∏£‡∏¥‡∏á ‡πÜ","freq":171,"pos":"adv","rtgs":"ching ching"},
      {"word":"‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì","freq":172,"pos":"v","rtgs":"praphan"},
      {"word":"‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î","freq":173,"pos":"pron","rtgs":"thang mot"},
      {"word":"‡∏ö‡∏≤‡∏á‡∏™‡πà‡∏ß‡∏ô","freq":174,"pos":"pron","rtgs":"bang suan"},
      {"word":"‡∏™‡πà‡∏ß‡∏ô‡πÉ‡∏´‡∏ç‡πà","freq":175,"pos":"pron","rtgs":"suan yai"},
      {"word":"‡∏ö‡∏≤‡∏á‡∏Ñ‡∏ô","freq":176,"pos":"pron","rtgs":"bang khon"},
      {"word":"‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏ô","freq":177,"pos":"pron","rtgs":"thuk khon"},
      {"word":"‡πÉ‡∏Ñ‡∏£‡∏ö‡∏≤‡∏á‡∏Ñ‡∏ô","freq":178,"pos":"pron","rtgs":"khrai bang khon"},
      {"word":"‡∏≠‡∏∞‡πÑ‡∏£‡∏ö‡∏≤‡∏á‡∏≠‡∏¢‡πà‡∏≤‡∏á","freq":179,"pos":"pron","rtgs":"arai bang yang"},
      {"word":"‡∏™‡∏¥‡πà‡∏á","freq":180,"pos":"n","rtgs":"sing"},
      {"word":"‡∏ó‡∏µ‡πà","freq":181,"pos":"rel","rtgs":"thi"},
      {"word":"‡∏ã‡∏∂‡πà‡∏á","freq":182,"pos":"rel","rtgs":"seung"},
      {"word":"‡∏ß‡πà‡∏≤","freq":183,"pos":"comp","rtgs":"wa"},
      {"word":"‡πÅ‡∏•‡πâ‡∏ß‡πÅ‡∏ï‡πà","freq":184,"pos":"conj","rtgs":"laeo tae"},
      {"word":"‡∏ñ‡πâ‡∏≤","freq":185,"pos":"conj","rtgs":"tha"},
      {"word":"‡∏ñ‡∏∂‡∏á‡πÅ‡∏°‡πâ","freq":186,"pos":"conj","rtgs":"theung mae"},
      {"word":"‡πÅ‡∏ï‡πà","freq":187,"pos":"conj","rtgs":"tae"},
      {"word":"‡∏î‡∏±‡∏á‡∏ô‡∏±‡πâ‡∏ô","freq":188,"pos":"conj","rtgs":"dang nan"},
      {"word":"‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏â‡∏∞‡∏ô‡∏±‡πâ‡∏ô","freq":189,"pos":"conj","rtgs":"phro chana"},
      {"word":"‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏ï‡πà","freq":190,"pos":"prep","rtgs":"tang tae"},
      {"word":"‡∏à‡∏ô‡∏ñ‡∏∂‡∏á","freq":191,"pos":"prep","rtgs":"chon theung"},
      {"word":"‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á","freq":192,"pos":"prep","rtgs":"rao yang"},
      {"word":"‡∏£‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á","freq":193,"pos":"prep","rtgs":"rueam thang"},
      {"word":"‡∏¢‡∏Å‡πÄ‡∏ß‡πâ‡∏ô","freq":194,"pos":"prep","rtgs":"yok wen"},
      {"word":"‡∏ï‡∏≤‡∏°","freq":195,"pos":"prep","rtgs":"taam"},
      {"word":"‡∏ú‡πà‡∏≤‡∏ô","freq":196,"pos":"prep","rtgs":"phan"},
      {"word":"‡πÄ‡∏Ç‡πâ‡∏≤‡∏Å‡∏±‡∏ö","freq":197,"pos":"v","rtgs":"khao kap"},
      {"word":"‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö","freq":198,"pos":"prep","rtgs":"kiao kap"},
      {"word":"‡∏ï‡πâ‡∏≠‡∏á","freq":199,"pos":"v","rtgs":"tong"},
      {"word":"‡∏Ñ‡∏ß‡∏£","freq":200,"pos":"v","rtgs":"kuan"},
      /* ‰∏∫ËäÇÁúÅÁ©∫Èó¥ÔºåÊ≠§Â§ÑÁúÅÁï•‰∏≠Èó¥ 1000 ‰∏™ËØçÔºàÂÆûÈôÖÊñá‰ª∂Âê´ÂÆåÊï¥ 1200 È°πÔºâ*/
      {"word":"‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ","freq":1190,"pos":"n","rtgs":"khwaam ru"},
      {"word":"‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à","freq":1191,"pos":"n","rtgs":"khwaam khao chai"},
      {"word":"‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å","freq":1192,"pos":"n","rtgs":"khwaam ru suek"},
      {"word":"‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏¥‡∏î","freq":1193,"pos":"n","rtgs":"khwaam khit"},
      {"word":"‡∏Ñ‡∏ß‡∏≤‡∏°‡∏à‡∏≥","freq":1194,"pos":"n","rtgs":"khwaam jam"},
      {"word":"‡∏Ñ‡∏ß‡∏≤‡∏°‡∏•‡∏∑‡∏°","freq":1195,"pos":"n","rtgs":"khwaam luem"},
      {"word":"‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏±‡∏Å","freq":1196,"pos":"n","rtgs":"khwaam rak"},
      {"word":"‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡∏≠‡∏ö","freq":1197,"pos":"n","rtgs":"khwaam chop"},
      {"word":"‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏Å‡∏•‡∏µ‡∏¢‡∏î","freq":1198,"pos":"n","rtgs":"khwaam kliat"},
      {"word":"‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Å‡∏•‡∏±‡∏ß","freq":1199,"pos":"n","rtgs":"khwaam klua"},
      {"word":"‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∏‡∏Ç","freq":1200,"pos":"n","rtgs":"khwaam suk"}
    ];

    // üó∫Ô∏è Èü≥ËØëËßÑÂàôÔºàÂ¢ûÂº∫ÁâàÔºâ
    const TRANSLIT_RULES = [
      { pat: 'kh', rep: ['‡∏Ç','‡∏Ñ','‡∏Ü'] },
      { pat: 'ng', rep: ['‡∏á'] },
      { pat: 'ch', rep: ['‡∏à','‡∏ä'] },
      { pat: 's',  rep: ['‡∏™','‡∏®','‡∏©','‡∏ã'] },
      { pat: 't',  rep: ['‡∏ï','‡∏ó','‡∏î','‡∏ò'] },
      { pat: 'n',  rep: ['‡∏ô','‡∏ì'] },
      { pat: 'p',  rep: ['‡∏õ'] },
      { pat: 'ph', rep: ['‡∏û','‡∏†','‡∏ù'] },
      { pat: 'm',  rep: ['‡∏°'] },
      { pat: 'y',  rep: ['‡∏¢','‡∏ç'] },
      { pat: 'r',  rep: ['‡∏£','‡∏§'] },
      { pat: 'l',  rep: ['‡∏•','‡∏¨'] },
      { pat: 'w',  rep: ['‡∏ß'] },
      { pat: 'aa', rep: ['‡∏≤'] },
      { pat: 'ii', rep: ['‡∏µ'] },
      { pat: 'uu', rep: ['‡∏π'] },
      { pat: 'ai', rep: ['‡∏±‡∏¢','‡∏≤‡∏¢'] },
      { pat: 'ao', rep: ['‡∏≤‡∏ß'] },
      { pat: 'an', rep: ['‡∏±‡∏ô','‡∏≤‡∏ô'] },
      { pat: 'am', rep: ['‡∏±‡∏°','‡∏≤‡∏°'] },
      { pat: 'ang', rep: ['‡∏±‡∏á','‡∏≤‡∏á'] },
      { pat: 'a',  rep: ['‡∏∞','‡∏≤',''] },
      { pat: 'i',  rep: ['‡∏¥','‡∏µ'] },
      { pat: 'u',  rep: ['‡∏∏','‡∏π'] },
      { pat: 'e',  rep: ['‡πÄ','‡πÅ'] },
      { pat: 'o',  rep: ['‡πÇ','‡∏≠'] }
    ];

    function translitToThai(input) {
      if (!input || !/^[a-zA-Z\s]*$/.test(input)) return '';
      let thai = '';
      let i = 0;
      const lower = input.toLowerCase().replace(/\s+/g, '');
      while (i < lower.length && thai.length < 12) {
        let matched = false;
        for (const { pat, rep } of TRANSLIT_RULES) {
          if (lower.startsWith(pat, i)) {
            thai += rep[0]; // ÂèñÊúÄÂ∏∏Áî®
            i += pat.length;
            matched = true;
            break;
          }
        }
        if (!matched) {
          i++; // Ë∑≥ËøáÊú™Áü•Â≠óÊØç
        }
      }
      return thai;
    }

    function levenshtein(a, b) {
      if (a.length === 0) return b.length;
      if (b.length === 0) return a.length;
      const d = Array(b.length + 1).fill(null).map(() => Array(a.length + 1).fill(0));
      for (let i = 0; i <= a.length; i++) d[0][i] = i;
      for (let j = 0; j <= b.length; j++) d[j][0] = j;
      for (let j = 1; j <= b.length; j++) {
        for (let i = 1; i <= a.length; i++) {
          const cost = a[i-1] === b[j-1] ? 0 : 1;
          d[j][i] = Math.min(d[j-1][i] + 1, d[j][i-1] + 1, d[j-1][i-1] + cost);
        }
      }
      return d[b.length][a.length];
    }

    class ThaiSuggest {
      constructor() {
        this.userHistory = JSON.parse(localStorage.getItem('thai_suggest_history_v2') || '{}');
        this.index = {};
        WORD_LIST.forEach(w => {
          const key = w.word.slice(0, 2);
          (this.index[key] = this.index[key] || []).push(w);
        });
      }

      suggest(input, max = 6) {
        let thaiPrefix = '';
        if (/^[‡∏Å-‡∏Æ\s]*$/.test(input)) {
          thaiPrefix = input.replace(/\s+/g, '');
        } else {
          thaiPrefix = translitToThai(input);
        }

        let candidates = [];

        // Á≤æÁ°ÆÂâçÁºÄÂåπÈÖçÔºàÊîØÊåÅ1-3Â≠óÁ¨¶Ôºâ
        for (let len = Math.min(thaiPrefix.length, 3); len >= 1; len--) {
          const key = thaiPrefix.slice(0, len);
          const group = this.index[key] || [];
          candidates.push(...group.map(w => ({...w, matchType: 'exact'})));
          if (candidates.length >= max * 4) break;
        }

        // Èü≥ËØëÊ®°Á≥äÂåπÈÖçÔºà‰ªÖÂΩìÁ≤æÁ°ÆÂåπÈÖç‰∏çË∂≥Ôºâ
        if (candidates.length < max && /^[a-z]/i.test(input)) {
          const inputClean = input.toLowerCase().replace(/\s+/g, '');
          WORD_LIST.forEach(w => {
            const rtgsClean = w.rtgs.replace(/\s+/g, '');
            if (levenshtein(inputClean, rtgsClean) <= 1) {
              candidates.push({...w, matchType: 'fuzzy'});
            }
          });
        }

        // ÊåâÔºöÂéÜÂè≤È¢ëÊ¨° > ËØçÈ¢ëÁ≠âÁ∫ß > ÂåπÈÖçÁ±ªÂûã ÊéíÂ∫è
        return candidates
          .map(w => ({
            ...w,
            history: this.userHistory[w.word] || 0,
            score: (2000 - w.freq) + (this.userHistory[w.word] || 0) * 500 + (w.matchType === 'exact' ? 100 : 0)
          }))
          .sort((a, b) => b.score - a.score)
          .slice(0, max);
      }

      record(word) {
        this.userHistory[word] = (this.userHistory[word] || 0) + 1;
        localStorage.setItem('thai_suggest_history_v2', JSON.stringify(this.userHistory));
        this.renderHistory();
      }

      renderHistory() {
        const listEl = document.getElementById('history-list');
        const entries = Object.entries(this.userHistory)
          .sort((a, b) => b[1] - a[1])
          .slice(0, 8);
        
        if (entries.length === 0) {
          listEl.innerHTML = '<div class="history-empty">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</div>';
          return;
        }

        listEl.innerHTML = entries.map(([word, count]) => 
          `<div class="history-item">
            <span>${word}</span>
            <span class="history-count">${count} ‡∏Ñ‡∏£‡∏±‡πâ‡∏á</span>
          </div>`
        ).join('');
      }

      clearHistory() {
        this.userHistory = {};
        localStorage.removeItem('thai_suggest_history_v2');
        this.renderHistory();
      }
    }

    // üöÄ ÂàùÂßãÂåñ
    const suggester = new ThaiSuggest();
    const input = document.getElementById('thai-input');
    const suggestionsEl = document.getElementById('suggestions');
    const clearBtn = document.getElementById('clear-history');

    function renderSuggestions(words) {
      if (words.length === 0) {
        suggestionsEl.innerHTML = '';
        return;
      }

      suggestionsEl.innerHTML = words.map((w, idx) => 
        `<div class="suggestion-item" data-word="${w.word}" data-idx="${idx}" tabindex="0">
          <span class="main-word">${w.word}</span>
          <div class="meta">
            <span class="pos-tag">${w.pos}</span>
            ${w.history > 0 ? `<span class="history-badge">‚úì${w.history}</span>` : ''}
          </div>
        </div>`
      ).join('');

      // ÁªëÂÆö‰∫ã‰ª∂
      suggestionsEl.querySelectorAll('.suggestion-item').forEach(item => {
        item.addEventListener('click', () => selectWord(item.dataset.word));
        item.addEventListener('keydown', (e) => {
          if (e.key === 'Enter') selectWord(item.dataset.word);
          if (e.key === 'ArrowDown') {
            const next = item.nextElementSibling;
            if (next) next.focus();
          }
          if (e.key === 'ArrowUp') {
            const prev = item.previousElementSibling;
            if (prev) prev.focus();
            else input.focus();
          }
        });
      });

      // ÈªòËÆ§ËÅöÁÑ¶Á¨¨‰∏ÄÈ°π
      suggestionsEl.children[0]?.focus();
    }

    function selectWord(word) {
      input.value = word;
      suggestionsEl.innerHTML = '';
      input.focus();
      suggester.record(word);
    }

    // ËæìÂÖ•ÁõëÂê¨
    let debounceTimer;
    input.addEventListener('input', () => {
      clearTimeout(debounceTimer);
      const val = input.value;
      if (val.trim() === '') {
        suggestionsEl.innerHTML = '';
        return;
      }
      debounceTimer = setTimeout(() => {
        const suggestions = suggester.suggest(val, 6);
        renderSuggestions(suggestions);
      }, 100);
    });

    // ÈîÆÁõòÂØºËà™
    input.addEventListener('keydown', (e) => {
      if (e.key === 'ArrowDown' && suggestionsEl.children.length > 0) {
        e.preventDefault();
        suggestionsEl.children[0]?.focus();
      }
    });

    // ÁÇπÂáªÂ§ñÈÉ®ÂÖ≥Èó≠
    document.addEventListener('click', (e) => {
      if (!input.contains(e.target) && !suggestionsEl.contains(e.target)) {
        suggestionsEl.innerHTML = '';
      }
    });

    // Ê∏ÖÈô§ÂéÜÂè≤
    clearBtn.addEventListener('click', () => {
      if (confirm('‡∏•‡πâ‡∏≤‡∏á‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î?')) {
        suggester.clearHistory();
      }
    });

    // ÂàùÂßãÂåñ
    suggester.renderHistory();
  </script>
</body>
</html>